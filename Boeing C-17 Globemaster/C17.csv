# author: Jatin Soni
# Airplane Name: Boeing C-17 Globemaster
# Payload: 164,900 lbs (update cargo_mass entry to change)
# Target Range: 2,400 nmi (update phase_info and mission:design:range to change)
# Sources: https://www.af.mil/About-Us/Fact-Sheets/Display/Article/1529726/c-17-globemaster-iii/
#          https://en.wikipedia.org/wiki/Boeing_C-17_Globemaster_III#Specifications_(C-17A) 
#          For areas and sizes, 3-view images of aircraft and this tool were used: https://www.blocklayer.com/scale-fixereng 
# To run this model, run: aviary run_mission --phase_info C17_mission.py C17.csv
# If PyOptSparse is not installed, add "--optimizer SLSQP" to the end of the command above
# To view the results, run "aviary dashboard C17"

aircraft:crew_and_payload:num_flight_crew,2,unitless
aircraft:crew_and_payload:cargo_mass,164900,lbm

aircraft:design:empty_mass,282500,lbm
aircraft:design:lift_curve_slope,6.28,1/rad
aircraft:design:reserve_fuel_additional,0.,lbm
aircraft:design:subsonic_drag_coeff_factor,1.0,unitless
aircraft:design:supersonic_drag_coeff_factor,1.0,unitless
aircraft:design:use_alt_mass,False,unitless

aircraft:engine:additional_mass_fraction,0.,unitless
aircraft:engine:constant_fuel_consumption,0.,lbm/h
aircraft:engine:data_file,PW2000_Aviary.deck,unitless
aircraft:engine:flight_idle_thrust_fraction,0.0,unitless
aircraft:engine:flight_idle_max_fraction,1.0,unitless
aircraft:engine:flight_idle_min_fraction,0.08,unitless
aircraft:engine:fuel_flow_scaler_constant_term,0.,unitless
aircraft:engine:fuel_flow_scaler_linear_term,0.,unitless
aircraft:engine:generate_flight_idle,True,unitless
aircraft:engine:geopotential_alt,False,unitless
aircraft:engine:ignore_negative_thrust,False,unitless
aircraft:engine:interpolation_method,slinear,unitless
aircraft:engine:mass_scaler,1.0,unitless
aircraft:engine:mass,7100,lbm
aircraft:engine:num_engines,4,unitless
aircraft:engine:num_fuselage_engines,0,unitless
aircraft:engine:num_wing_engines,4,unitless
aircraft:engine:reference_mass,7100,lbm
aircraft:engine:reference_sls_thrust,40400.,lbf
aircraft:engine:scale_mass,True,unitless
aircraft:engine:scale_performance,True,unitless
aircraft:engine:scaled_sls_thrust,40400.,lbf
aircraft:engine:wing_locations,[0.29,0.55],unitless

aircraft:fuel:fuselage_fuel_capacity,0.0,lbm
aircraft:fuel:num_tanks,8,unitless
aircraft:fuel:total_capacity,180806.,lbm

aircraft:fuselage:avg_diameter,22.83,ft
aircraft:fuselage:length,180.,ft
aircraft:fuselage:military_cargo_floor,True,unitless
aircraft:fuselage:num_fuselages,1,unitless
aircraft:fuselage:planform_area,1080,ft**2

aircraft:horizontal_tail:area,845.,ft**2
aircraft:horizontal_tail:aspect_ratio,5.3,unitless
aircraft:horizontal_tail:taper_ratio,0.47,unitless
aircraft:horizontal_tail:thickness_to_chord,0.21,unitless
aircraft:horizontal_tail:vertical_tail_fraction,0.0,unitless

aircraft:hydraulics:system_pressure,3000.0,lbf/ft**2

aircraft:landing_gear:main_gear_oleo_length,102.0,inch
aircraft:landing_gear:nose_gear_oleo_length,67.0,inch

aircraft:nacelle:avg_diameter,6.54,ft
aircraft:nacelle:avg_length,12.23,ft

aircraft:paint:mass_per_unit_area,0.037,lbm/ft**2

aircraft:propulsion:engine_oil_mass_scaler,1.0,unitless

aircraft:vertical_tail:area,800.,ft**2
aircraft:vertical_tail:aspect_ratio,1.1,unitless
aircraft:vertical_tail:num_tails,1,unitless
aircraft:vertical_tail:taper_ratio,1.0,unitless
aircraft:vertical_tail:thickness_to_chord,0.12,unitless

aircraft:wing:area,3800,ft**2
aircraft:wing:aspect_ratio,7.2,unitless
aircraft:wing:chord_per_semispan,0.42,0.12,unitless
aircraft:wing:control_surface_area,380,ft**2
aircraft:wing:control_surface_area_ratio,0.1,unitless
aircraft:wing:glove_and_bat,40,ft**2
aircraft:wing:input_station_dist,0.,1.,unitless
aircraft:wing:load_distribution_control,2.0,unitless
aircraft:wing:load_fraction,1.0,unitless
aircraft:wing:max_camber_at_70_semispan,0.0,unitless
aircraft:wing:num_integration_stations,50,unitless
aircraft:wing:span,169.75,ft
aircraft:wing:sweep,25,deg
aircraft:wing:taper_ratio,0.26,unitless
aircraft:wing:thickness_to_chord_dist,0.16,0.12,unitless
aircraft:wing:thickness_to_chord,0.14,unitless
aircraft:wing:ultimate_load_factor,3.75,unitless

mission:constraints:max_mach,0.82,unitless
mission:design:cruise_altitude,28000,ft
mission:design:gross_mass,585000.0,lbm
mission:design:range,2400,NM
mission:design:thrust_takeoff_per_eng,40400.,lbf
mission:landing:lift_coefficient_max,2.2,unitless
mission:design:mach,0.7,unitless
mission:takeoff:lift_coefficient_max,3.0,unitless
mission:takeoff:lift_over_drag,17.354,unitless

settings:equations_of_motion,height_energy
settings:mass_method,FLOPS